<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio de Sesión</title>
    <link rel="stylesheet" href="formulario.css">
</head>

<body>
    <video autoplay muted loop class="mivideo">
        <source src="FONDO.mp4" type="video/mp4">
        Tu navegador no soporta HTML5.
    </video>

    <div class="login-container">
        <div class="login-box">
            <h1 class="logo">FILMNITY</h1>
            <h2>Inicia sesión</h2>
            <form id="loginForm">
                <div class="input-group">
                    <input type="email" id="email" placeholder="Email o número de celular" required>
                </div>
                <div class="input-group">
                    <input type="password" id="password" placeholder="Contraseña" required>
                </div>
                <button type="submit" class="login-button">Iniciar sesión</button>
                <div class="options">
                    <div>
                        <input type="checkbox" id="rememberMe">
                        <label for="rememberMe">Recuérdame</label>
                    </div>
                    <a href="contraseña.html">¿Olvidaste la contraseña?</a>
                </div>
            </form>
            <div class="sign-up">
                <p>¿Primera vez en Filmnity? <a href="registro.html">Regístrate ahora.</a></p>
            </div>
            <div class="info">
                <p>Esta página está protegida por Google reCAPTCHA para comprobar que no eres un robot.
                    <a href="#" onclick="mostrarInfo()">Más info.</a>
                </p>
                <p id="extra-info" style="display: none; font-size: 0.8rem; color: #737373; margin-top: 1rem;">
                    La información recopilada por Google reCAPTCHA está sujeta a la <a href="https://policies.google.com/privacy" target="_blank">Política de privacidad</a> y a las
                    <a href="https://policies.google.com/terms" target="_blank">Condiciones del servicio</a> de Google.
                </p>
            </div>
        </div>
    </div>

    <!-- Mensaje de éxito -->
    <div id="successMessage" class="success-message">
        <p>¡Inicio de sesión exitoso!</p>
        <button id="acceptButton" class="accept-button">Aceptar</button>
    </div>

    <script>
        document.getElementById("loginForm").addEventListener("submit", function(event) {
            event.preventDefault(); // Evita el comportamiento por defecto del formulario
    
            const email = document.querySelector('input[type="email"]').value;
            const password = document.querySelector('input[type="password"]').value;
    
            // Obtener los usuarios registrados desde localStorage
            const users = JSON.parse(localStorage.getItem('users')) || [];
    
            // Buscar un usuario con el correo y contraseña ingresados
            const user = users.find(u => u.email === email && u.password === password);
    
            if (user) {
                // Mostrar el mensaje de éxito como notificación
                var successMessage = document.getElementById('successMessage');
                successMessage.classList.add('show'); // Muestra el mensaje
    
                // Agregar un evento al botón "Aceptar"
                document.getElementById('acceptButton').addEventListener('click', function() {
                    successMessage.classList.remove('show'); // Ocultar el mensaje
                    window.location.href = "index.html"; // Redirigir a la página principal
                });
            } else {
                alert("Email o contraseña incorrectos");
            }
        });
    </script>
</body>

</html>
